(function(e){function t(t){for(var n,r,l=t[0],o=t[1],d=t[2],c=0,p=[];c<l.length;c++)r=l[c],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&p.push(s[r][0]),s[r]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n]);u&&u(t);while(p.length)p.shift()();return i.push.apply(i,d||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],n=!0,r=1;r<a.length;r++){var o=a[r];0!==s[o]&&(n=!1)}n&&(i.splice(t--,1),e=l(l.s=a[0]))}return e}var n={},s={app:0},i=[];function r(e){return l.p+"js/"+({about:"about"}[e]||e)+"."+{about:"0fa576b4"}[e]+".js"}function l(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.e=function(e){var t=[],a=s[e];if(0!==a)if(a)t.push(a[2]);else{var n=new Promise((function(t,n){a=s[e]=[t,n]}));t.push(a[2]=n);var i,o=document.createElement("script");o.charset="utf-8",o.timeout=120,l.nc&&o.setAttribute("nonce",l.nc),o.src=r(e);var d=new Error;i=function(t){o.onerror=o.onload=null,clearTimeout(c);var a=s[e];if(0!==a){if(a){var n=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+n+": "+i+")",d.name="ChunkLoadError",d.type=n,d.request=i,a[1](d)}s[e]=void 0}};var c=setTimeout((function(){i({type:"timeout",target:o})}),12e4);o.onerror=o.onload=i,document.head.appendChild(o)}return Promise.all(t)},l.m=e,l.c=n,l.d=function(e,t,a){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)l.d(a,n,function(t){return e[t]}.bind(null,n));return a},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/Babysitter/",l.oe=function(e){throw console.error(e),e};var o=window["webpackJsonp"]=window["webpackJsonp"]||[],d=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var u=d;i.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"0835":function(e){e.exports=JSON.parse('[{"inputs":[{"internalType":"bytes","name":"execData","type":"bytes"}],"name":"checker","outputs":[{"internalType":"bool","name":"","type":"bool"},{"internalType":"bytes","name":"","type":"bytes"}],"stateMutability":"pure","type":"function"}]')},"0d89":function(e){e.exports=JSON.parse('[{"inputs":[{"internalType":"address payable","name":"_gelato","type":"address"},{"internalType":"address","name":"_taskTreasury","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"txFee","type":"uint256"},{"indexed":true,"internalType":"address","name":"feeToken","type":"address"},{"indexed":true,"internalType":"address","name":"execAddress","type":"address"},{"indexed":false,"internalType":"bytes","name":"execData","type":"bytes"},{"indexed":false,"internalType":"bytes32","name":"taskId","type":"bytes32"}],"name":"ExecSuccess","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"bytes32","name":"taskId","type":"bytes32"},{"indexed":false,"internalType":"address","name":"taskCreator","type":"address"}],"name":"TaskCancelled","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"taskCreator","type":"address"},{"indexed":false,"internalType":"address","name":"execAddress","type":"address"},{"indexed":false,"internalType":"bytes4","name":"selector","type":"bytes4"},{"indexed":false,"internalType":"address","name":"resolverAddress","type":"address"},{"indexed":false,"internalType":"bytes32","name":"taskId","type":"bytes32"},{"indexed":false,"internalType":"bytes","name":"resolverData","type":"bytes"},{"indexed":false,"internalType":"bool","name":"useTaskTreasuryFunds","type":"bool"},{"indexed":false,"internalType":"address","name":"feeToken","type":"address"},{"indexed":false,"internalType":"bytes32","name":"resolverHash","type":"bytes32"}],"name":"TaskCreated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"taskId","type":"bytes32"},{"indexed":true,"internalType":"uint128","name":"nextExec","type":"uint128"},{"indexed":true,"internalType":"uint128","name":"interval","type":"uint128"}],"name":"TimerSet","type":"event"},{"inputs":[{"internalType":"bytes32","name":"_taskId","type":"bytes32"}],"name":"cancelTask","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_execAddress","type":"address"},{"internalType":"bytes4","name":"_execSelector","type":"bytes4"},{"internalType":"address","name":"_resolverAddress","type":"address"},{"internalType":"bytes","name":"_resolverData","type":"bytes"}],"name":"createTask","outputs":[{"internalType":"bytes32","name":"task","type":"bytes32"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_execAddress","type":"address"},{"internalType":"bytes4","name":"_execSelector","type":"bytes4"},{"internalType":"address","name":"_resolverAddress","type":"address"},{"internalType":"bytes","name":"_resolverData","type":"bytes"},{"internalType":"address","name":"_feeToken","type":"address"}],"name":"createTaskNoPrepayment","outputs":[{"internalType":"bytes32","name":"task","type":"bytes32"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint128","name":"_startTime","type":"uint128"},{"internalType":"uint128","name":"_interval","type":"uint128"},{"internalType":"address","name":"_execAddress","type":"address"},{"internalType":"bytes4","name":"_execSelector","type":"bytes4"},{"internalType":"address","name":"_resolverAddress","type":"address"},{"internalType":"bytes","name":"_resolverData","type":"bytes"},{"internalType":"address","name":"_feeToken","type":"address"},{"internalType":"bool","name":"_useTreasury","type":"bool"}],"name":"createTimedTask","outputs":[{"internalType":"bytes32","name":"task","type":"bytes32"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_txFee","type":"uint256"},{"internalType":"address","name":"_feeToken","type":"address"},{"internalType":"address","name":"_taskCreator","type":"address"},{"internalType":"bool","name":"_useTaskTreasuryFunds","type":"bool"},{"internalType":"bytes32","name":"_resolverHash","type":"bytes32"},{"internalType":"address","name":"_execAddress","type":"address"},{"internalType":"bytes","name":"_execData","type":"bytes"}],"name":"exec","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"name":"execAddresses","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"fee","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"feeToken","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"gelato","outputs":[{"internalType":"address payable","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getFeeDetails","outputs":[{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_resolverAddress","type":"address"},{"internalType":"bytes","name":"_resolverData","type":"bytes"}],"name":"getResolverHash","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"pure","type":"function"},{"inputs":[{"internalType":"string","name":"_func","type":"string"}],"name":"getSelector","outputs":[{"internalType":"bytes4","name":"","type":"bytes4"}],"stateMutability":"pure","type":"function"},{"inputs":[{"internalType":"address","name":"_taskCreator","type":"address"},{"internalType":"address","name":"_execAddress","type":"address"},{"internalType":"bytes4","name":"_selector","type":"bytes4"},{"internalType":"bool","name":"_useTaskTreasuryFunds","type":"bool"},{"internalType":"address","name":"_feeToken","type":"address"},{"internalType":"bytes32","name":"_resolverHash","type":"bytes32"}],"name":"getTaskId","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"pure","type":"function"},{"inputs":[{"internalType":"address","name":"_taskCreator","type":"address"}],"name":"getTaskIdsByUser","outputs":[{"internalType":"bytes32[]","name":"","type":"bytes32[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"name":"taskCreator","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"taskTreasury","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"name":"timedTask","outputs":[{"internalType":"uint128","name":"nextExec","type":"uint128"},{"internalType":"uint128","name":"interval","type":"uint128"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"version","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"}]')},1:function(e,t){},10:function(e,t){},11:function(e,t){},12:function(e,t){},"122d":function(e){e.exports=JSON.parse('[{"inputs":[{"internalType":"address payable","name":"_gelato","type":"address"},{"internalType":"uint256","name":"_maxFee","type":"uint256"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"sender","type":"address"},{"indexed":true,"internalType":"address","name":"token","type":"address"},{"indexed":true,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"FundsDeposited","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"receiver","type":"address"},{"indexed":true,"internalType":"address","name":"initiator","type":"address"},{"indexed":true,"internalType":"address","name":"token","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"FundsWithdrawn","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"inputs":[{"internalType":"address","name":"_service","type":"address"}],"name":"addWhitelistedService","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_receiver","type":"address"},{"internalType":"address","name":"_token","type":"address"},{"internalType":"uint256","name":"_amount","type":"uint256"}],"name":"depositFunds","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[],"name":"gelato","outputs":[{"internalType":"address payable","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_user","type":"address"}],"name":"getCreditTokensByUser","outputs":[{"internalType":"address[]","name":"","type":"address[]"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getWhitelistedServices","outputs":[{"internalType":"address[]","name":"","type":"address[]"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"maxFee","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_service","type":"address"}],"name":"removeWhitelistedService","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_newMaxFee","type":"uint256"}],"name":"setMaxFee","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_token","type":"address"},{"internalType":"uint256","name":"_amount","type":"uint256"},{"internalType":"address","name":"_user","type":"address"}],"name":"useFunds","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"address","name":"","type":"address"}],"name":"userTokenBalance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address payable","name":"_receiver","type":"address"},{"internalType":"address","name":"_token","type":"address"},{"internalType":"uint256","name":"_amount","type":"uint256"}],"name":"withdrawFunds","outputs":[],"stateMutability":"nonpayable","type":"function"}]')},13:function(e,t){},14:function(e,t){},2:function(e,t){},"24aa":function(e,t,a){},3:function(e,t){},"37bf":function(e,t,a){"use strict";a("24aa")},4:function(e,t){},5:function(e,t){},"566e":function(e,t,a){e.exports=a.p+"img/approval.c2fc7807.png"},"56d7":function(e,t,a){"use strict";a.r(t);var n=a("7a23");const s={class:"container"},i={style:{width:"100%"}},r={class:"nav",style:{width:"50%",float:"right","text-align":"right"}},l=Object(n["j"])("Home"),o=Object(n["j"])(" | "),d=Object(n["j"])("Rewards"),c=Object(n["h"])("p",{style:{"text-align":"left"},class:"nes-text is-disabled"},"Need someone to watch your Cudl.finance Pet? ",-1),u=Object(n["h"])("br",null,null,-1),p={class:"nes-container"},y=Object(n["h"])("br",null,null,-1),b={class:"nav",style:{float:"left"}},m=["href"];function f(e,t,a,f,h,v){const j=Object(n["C"])("router-link"),O=Object(n["C"])("connect"),g=Object(n["C"])("router-view");return Object(n["v"])(),Object(n["g"])("div",s,[Object(n["h"])("div",i,[Object(n["h"])("h1",{style:{"text-align":"left",width:"50%",display:"inline-block"},onClick:t[0]||(t[0]=e=>this.$router.push("/"))},"Baby Sitter"),Object(n["h"])("div",r,[Object(n["k"])(j,{to:"/"},{default:Object(n["J"])(()=>[l]),_:1}),o,Object(n["k"])(j,{to:"/rewards"},{default:Object(n["J"])(()=>[d]),_:1}),Object(n["k"])(O,{style:{display:"inline-block","margin-left":"50px"}})])]),c,u,Object(n["h"])("div",null,[Object(n["h"])("div",p,[Object(n["k"])(n["b"],{name:"fade",mode:"out-in"},{default:Object(n["J"])(()=>[(Object(n["v"])(),Object(n["e"])(g,{key:e.$route.fullPath}))]),_:1})])]),y,Object(n["h"])("div",b,[Object(n["h"])("a",{href:"https://arbiscan.io/address/"+e.$store.state.contract.address},"Contract Address",8,m)])])}var h=a("f38b"),v={components:{Connect:h["a"]}},j=(a("cae0"),a("6b0d")),O=a.n(j);const g=O()(v,[["render",f]]);var T=g,w=a("6c02"),k=a("566e"),x=a.n(k);const _={class:"home",style:{"text-align":"left"}},C={class:"section"},M=Object(n["h"])("h2",null,"Automation",-1),F=Object(n["j"])("Feed and claim all your pets once a day. "),E={class:"section"},S=Object(n["h"])("h2",null,"Self Serve",-1),A=Object(n["j"])("Feed and claim all your pets at once. "),$={class:"section"},P=Object(n["h"])("h2",null,"How it works",-1),I={class:"lists"},D={class:"nes-list is-disc"},B=Object(n["h"])("a",{href:"https://cudl.finance/care-taker"},"here",-1),H=Object(n["h"])("br",null,null,-1),J=Object(n["h"])("li",null,"The contract will attempt to feed and claim Cudl for one or many pets in a single transaction. Therefore, any failure to feed or claim will fail the entire transaction leaving no pets fed/claimed.",-1),N=Object(n["h"])("br",null,null,-1),G=Object(n["h"])("li",null,[Object(n["j"])("It will fail to feed a pet if there is no Cudl to claim, so "),Object(n["h"])("u",null,"do not claim if you want to use automation.")],-1),U=Object(n["h"])("br",null,null,-1),R=Object(n["j"])("If a pet's reward is not enough to cover the cost of the food you want to feed, it will try and pull the difference from the pet owner's wallet. "),W={href:"https://arbiscan.io/address/0x0f4676178b5c53ae0a655f1b19a96387e4b8b5f2#writeContract"},K=Object(n["j"])(". Otherwise the transaction will fail."),V=Object(n["h"])("div",{class:"nes-container"},[Object(n["h"])("img",{src:x.a,style:{width:"100%"}})],-1),L=Object(n["h"])("br",null,null,-1),Y=Object(n["j"])("The pet owner can claim their accumulated Cudl on the "),q=Object(n["j"])("Rewards"),z=Object(n["j"])(" page. "),X=Object(n["h"])("br",null,null,-1),Q=Object(n["h"])("li",null,"All of the above also applies to automation, except it will trigger once a day without your involvement. (You need to deposit gas fees however)",-1);function Z(e,t,a,s,i,r){const l=Object(n["C"])("automation"),o=Object(n["C"])("connect"),d=Object(n["C"])("self-serve"),c=Object(n["C"])("router-link");return Object(n["v"])(),Object(n["g"])("div",_,[Object(n["h"])("div",C,[M,Object(n["h"])("p",null,[F,Object(n["h"])("u",null,Object(n["E"])(r.serviceFee)+"% Cudl service fee. ",1)]),e.$store.state.user?(Object(n["v"])(),Object(n["e"])(l,{key:0})):(Object(n["v"])(),Object(n["e"])(o,{key:1,style:{"text-align":"center","margin-top":"50px"}}))]),Object(n["h"])("div",E,[S,Object(n["h"])("p",null,[A,Object(n["h"])("u",null,Object(n["E"])(r.serviceFee)+"% Cudl service fee.",1)]),e.$store.state.user?(Object(n["v"])(),Object(n["e"])(d,{key:0})):(Object(n["v"])(),Object(n["e"])(o,{key:1,style:{"text-align":"center","margin-top":"50px"}}))]),Object(n["h"])("div",$,[P,Object(n["h"])("div",I,[Object(n["h"])("ul",D,[Object(n["h"])("li",null,[Object(n["j"])("You must approve this contract ("+Object(n["E"])(r.contract)+") as a caretaker for every pet you want to use this service with. You may do so ",1),B]),H,J,N,G,U,Object(n["h"])("li",null,[R,Object(n["h"])("a",W,"You should approve this contract ("+Object(n["E"])(r.contract)+") to spend enough of your Cudl if you want to use this feature",1),K]),V,L,Object(n["h"])("li",null,[Y,Object(n["k"])(c,{to:"/rewards"},{default:Object(n["J"])(()=>[q]),_:1}),z]),X,Q])])])])}const ee={key:0,class:"nes-container is-dark with-title"},te=Object(n["h"])("p",{class:"title"},"Feed & Claim",-1),ae={style:{"background-color":"#212529",padding:"1rem"},class:"nes-field is-inline"},ne=Object(n["h"])("label",{for:"dark_field",style:{color:"#fff"}},"Pet IDs:",-1),se={style:{"background-color":"#212529",padding:"1rem 1.2rem 1rem 1rem",width:"calc(100% + 8px)"}},ie=Object(n["h"])("label",{for:"dark_select",style:{color:"#fff"}},"Food",-1),re={class:"nes-select is-dark"},le=Object(n["h"])("option",{value:"",disabled:"",selected:"",hidden:""},"Select...",-1),oe=["value"],de={style:{width:"100%","text-align":"right"}};function ce(e,t,a,s,i,r){const l=Object(n["C"])("connect");return Object(n["v"])(),Object(n["g"])("div",null,[e.$store.state.user?(Object(n["v"])(),Object(n["g"])("div",ee,[te,Object(n["h"])("div",ae,[ne,Object(n["K"])(Object(n["h"])("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>i.pets=e),type:"text",id:"dark_field",class:"nes-input is-dark",placeholder:"[1,920,50,900]"},null,512),[[n["H"],i.pets]])]),Object(n["h"])("div",se,[ie,Object(n["h"])("div",re,[Object(n["K"])(Object(n["h"])("select",{required:"",id:"dark_select","onUpdate:modelValue":t[1]||(t[1]=e=>i.food=e)},[le,(Object(n["v"])(!0),Object(n["g"])(n["a"],null,Object(n["B"])(e.$store.state.food,e=>(Object(n["v"])(),Object(n["g"])("option",{key:e.name,value:e.id},Object(n["E"])(e.name)+" - "+Object(n["E"])(e.price)+" Cudl",9,oe))),128))],512),[[n["G"],i.food]])])]),Object(n["h"])("div",de,[Object(n["h"])("button",{type:"button",class:Object(n["r"])("nes-btn is-primary "+(r.disabled?"is-disabled":"")),onClick:t[2]||(t[2]=(...e)=>r.execute&&r.execute(...e))},"Send Transaction",2)])])):(Object(n["v"])(),Object(n["e"])(l,{key:1,style:{"text-align":"center","margin-top":"50px"}}))])}var ue={name:"SelfServe",components:{Connect:h["a"]},data(){return{pets:null,food:null,loading:!1}},methods:{async execute(){this.loading=!0;try{await this.$store.dispatch("feedMultiple",{pets:JSON.parse(this.pets),food:this.food})}catch(e){console.error(e),alert(e["message"])}this.loading=!1}},computed:{disabled(){return!this.pets||(!this.food||(!!this.loading||void 0))}},async mounted(){this.pets=await this.$store.dispatch("getPetIds",this.$store.state.user)}};const pe=O()(ue,[["render",ce]]);var ye=pe;const be={class:"hello"},me=Object(n["i"])('<p data-v-df2aa6b2> For a guide and recipes on how to configure / customize this project,<br data-v-df2aa6b2> check out the <a href="https://cli.vuejs.org" target="_blank" rel="noopener" data-v-df2aa6b2>vue-cli documentation</a>. </p><h3 data-v-df2aa6b2>Installed CLI Plugins</h3><ul data-v-df2aa6b2><li data-v-df2aa6b2><a href="https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-router" target="_blank" rel="noopener" data-v-df2aa6b2>router</a></li><li data-v-df2aa6b2><a href="https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-vuex" target="_blank" rel="noopener" data-v-df2aa6b2>vuex</a></li></ul><h3 data-v-df2aa6b2>Essential Links</h3><ul data-v-df2aa6b2><li data-v-df2aa6b2><a href="https://vuejs.org" target="_blank" rel="noopener" data-v-df2aa6b2>Core Docs</a></li><li data-v-df2aa6b2><a href="https://forum.vuejs.org" target="_blank" rel="noopener" data-v-df2aa6b2>Forum</a></li><li data-v-df2aa6b2><a href="https://chat.vuejs.org" target="_blank" rel="noopener" data-v-df2aa6b2>Community Chat</a></li><li data-v-df2aa6b2><a href="https://twitter.com/vuejs" target="_blank" rel="noopener" data-v-df2aa6b2>Twitter</a></li><li data-v-df2aa6b2><a href="https://news.vuejs.org" target="_blank" rel="noopener" data-v-df2aa6b2>News</a></li></ul><h3 data-v-df2aa6b2>Ecosystem</h3><ul data-v-df2aa6b2><li data-v-df2aa6b2><a href="https://router.vuejs.org" target="_blank" rel="noopener" data-v-df2aa6b2>vue-router</a></li><li data-v-df2aa6b2><a href="https://vuex.vuejs.org" target="_blank" rel="noopener" data-v-df2aa6b2>vuex</a></li><li data-v-df2aa6b2><a href="https://github.com/vuejs/vue-devtools#vue-devtools" target="_blank" rel="noopener" data-v-df2aa6b2>vue-devtools</a></li><li data-v-df2aa6b2><a href="https://vue-loader.vuejs.org" target="_blank" rel="noopener" data-v-df2aa6b2>vue-loader</a></li><li data-v-df2aa6b2><a href="https://github.com/vuejs/awesome-vue" target="_blank" rel="noopener" data-v-df2aa6b2>awesome-vue</a></li></ul>',7);function fe(e,t,a,s,i,r){return Object(n["v"])(),Object(n["g"])("div",be,[Object(n["h"])("h1",null,Object(n["E"])(a.msg),1),me])}var he={name:"HelloWorld",props:{msg:String}};a("95a2");const ve=O()(he,[["render",fe],["__scopeId","data-v-df2aa6b2"]]);var je=ve;const Oe={class:"nes-container is-dark"},ge={class:"nes-container is-dark with-title"},Te=Object(n["h"])("p",{class:"title"},"Gas Fund",-1),we=Object(n["h"])("p",null,"Every tx costs a flat 0.0005 ETH",-1),ke=Object(n["h"])("label",{for:"dark_field",style:{color:"#fff"}},"Amount (ETH)",-1),xe=Object(n["h"])("br",null,null,-1),_e=Object(n["h"])("br",null,null,-1),Ce=Object(n["h"])("br",null,null,-1),Me=Object(n["h"])("br",null,null,-1),Fe=Object(n["h"])("br",null,null,-1),Ee={key:0,style:{"text-align":"right"}},Se={class:"nes-container is-dark with-title"},Ae=Object(n["h"])("p",{class:"title"},"Automate",-1),$e={style:{"background-color":"#212529",padding:"1rem"},class:"nes-field is-inline"},Pe=Object(n["h"])("label",{for:"dark_field",style:{color:"#fff"}},"Pet IDs:",-1),Ie={style:{"background-color":"#212529",padding:"1rem 1.2rem 1rem 1rem",width:"calc(100% + 8px)"}},De=Object(n["h"])("label",{for:"dark_select",style:{color:"#fff"}},"Food",-1),Be={class:"nes-select is-dark"},He=Object(n["h"])("option",{value:"",disabled:"",selected:"",hidden:""},"Select...",-1),Je=["value"],Ne={style:{width:"100%","text-align":"right"}},Ge=Object(n["h"])("br",null,null,-1),Ue={key:0,class:"nes-container is-dark with-title"},Re=Object(n["h"])("p",{class:"title"},"Manage Automations",-1),We={class:"nes-table-responsive",style:{overflow:"hidden"}},Ke={class:"nes-table is-bordered is-dark",style:{width:"100%"}},Ve=Object(n["h"])("thead",null,[Object(n["h"])("tr",null,[Object(n["h"])("th",null,"ID"),Object(n["h"])("th",null,"Cancel")])],-1),Le=["onClick"];function Ye(e,t,a,s,i,r){return Object(n["v"])(),Object(n["g"])("div",null,[Object(n["h"])("div",Oe,[Object(n["h"])("div",ge,[Te,we,ke,Object(n["K"])(Object(n["h"])("input",{type:"number",id:"dark_field",class:"nes-input is-dark",placeholder:"","onUpdate:modelValue":t[0]||(t[0]=e=>i.amount=e)},null,512),[[n["H"],i.amount]]),xe,_e,Object(n["h"])("button",{style:{float:"right",display:"inline-block"},type:"button",class:"nes-btn",onClick:t[1]||(t[1]=e=>r.getCredits())}," Check Balance "),Object(n["h"])("button",{style:{float:"right",display:"inline-block"},type:"button",class:Object(n["r"])("nes-btn is-secondary "+(r.disabledGasFund?"is-disabled":"")),onClick:t[2]||(t[2]=e=>r.withdraw())}," Withdraw ",2),Object(n["h"])("button",{style:{float:"right",display:"inline-block"},type:"button",class:Object(n["r"])("nes-btn is-primary "+(r.disabledGasFund?"is-disabled":"")),onClick:t[3]||(t[3]=e=>r.deposit())}," Deposit ",2),Ce,Me,Fe,i.credits?(Object(n["v"])(),Object(n["g"])("p",Ee,Object(n["E"])(i.credits)+" ETH",1)):Object(n["f"])("",!0)]),Object(n["h"])("div",Se,[Ae,Object(n["h"])("div",$e,[Pe,Object(n["K"])(Object(n["h"])("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>i.pets=e),type:"text",id:"dark_field",class:"nes-input is-dark",placeholder:"[1,920,50,900]"},null,512),[[n["H"],i.pets]])]),Object(n["h"])("div",Ie,[De,Object(n["h"])("div",Be,[Object(n["K"])(Object(n["h"])("select",{required:"",id:"dark_select","onUpdate:modelValue":t[5]||(t[5]=e=>i.food=e)},[He,(Object(n["v"])(!0),Object(n["g"])(n["a"],null,Object(n["B"])(e.$store.state.food,e=>(Object(n["v"])(),Object(n["g"])("option",{key:e.name,value:e.id},Object(n["E"])(e.name)+" - "+Object(n["E"])(e.price)+" Cudl ",9,Je))),128))],512),[[n["G"],i.food]])])]),Object(n["h"])("div",Ne,[Object(n["h"])("button",{type:"button",class:Object(n["r"])("nes-btn is-primary "+(r.disabledAutomate?"is-disabled":"")),onClick:t[6]||(t[6]=e=>r.automate())}," New Automation ",2)]),Ge]),i.list.length>0?(Object(n["v"])(),Object(n["g"])("div",Ue,[Re,Object(n["h"])("div",We,[Object(n["h"])("table",Ke,[Ve,Object(n["h"])("tbody",null,[(Object(n["v"])(!0),Object(n["g"])(n["a"],null,Object(n["B"])(i.list,e=>(Object(n["v"])(),Object(n["g"])("tr",{key:e},[Object(n["h"])("td",null,Object(n["E"])(e),1),Object(n["h"])("td",null,[Object(n["h"])("button",{type:"button",class:Object(n["r"])("nes-btn is-error "+(r.disabledCancel?"is-disabled":"")),onClick:t=>r.cancel(e)}," X ",10,Le)])]))),128))])])])])):Object(n["f"])("",!0)])])}var qe={name:"Automation",data(){return{credits:null,loadingGasFund:!1,loadingAutomate:!1,loadingCancelAutomation:!1,amount:5e-4,pets:null,food:null,list:[]}},methods:{async getCredits(){let e=await this.$store.dispatch("gasBalance",this.$store.state.user);this.credits=await this.$store.dispatch("toEth",e)},async deposit(){this.loadingGasFund=!0;try{await this.$store.dispatch("depositBalance",this.amount)}catch(e){alert(e["message"])}this.loadingGasFund=!1},async withdraw(){this.loadingGasFund=!0;try{await this.$store.dispatch("withdrawBalance",this.amount)}catch(e){alert(e["message"])}this.loadingGasFund=!1},async automate(){this.loadingAutomate=!0;try{await this.$store.dispatch("automate",{pets:JSON.parse(this.pets),food:this.food})}catch(e){alert(e["message"])}this.loadingAutomate=!1},async cancel(e){this.loadingCancelAutomation=!0;try{await this.$store.dispatch("cancelAutomation",e)}catch(t){alert(t["message"])}this.loadingCancelAutomation=!1}},computed:{disabledGasFund(){return!(this.amount>0&&0==this.loadingGasFund)},disabledAutomate(){return!this.pets||!this.food||0!=this.loadingAutomate},disabledCancel(){return 0!=this.loadingCancelAutomation}},async mounted(){this.pets=await this.$store.dispatch("getPetIds",this.$store.state.user),this.list=await this.$store.dispatch("getAutomations",this.$store.state.user)}};const ze=O()(qe,[["render",Ye]]);var Xe=ze,Qe={name:"Home",data(){return{}},components:{HelloWorld:je,Connect:h["a"],SelfServe:ye,Automation:Xe},computed:{serviceFee(){return this.$store.state.serviceFee?(this.$store.state.serviceFee/100).toFixed(2):"..."},parentPercentage(){return"..."!=this.serviceFee?(100-this.serviceFee).toFixed(2):"..."},contract(){return this.$store.state.contract["address"]}},mounted(){this.$store.dispatch("getServiceFee")}};a("37bf");const Ze=O()(Qe,[["render",Z]]);var et=Ze;const tt=[{path:"/",name:"Home",component:et},{path:"/rewards",name:"Rewards",component:function(){return a.e("about").then(a.bind(null,"347a"))}}],at=Object(w["a"])({history:Object(w["b"])(),routes:tt});var nt=at,st=a("5502"),it=a("150e"),rt=a.n(it),lt=a("7dd2");const{providers:ot,Wallet:dt,ethers:ct,BigNumber:ut}=a("1ed3"),pt=42161,yt="https://arb1.arbitrum.io/rpc",bt="0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE";let mt={address:"0x527a819db1eb0e34426297b03bae11f2f8b3a19e",abi:a("122d")},ft={address:"0xb3f5503f93d5ef84b06993a1975b9d21b962892f",abi:a("0d89")};var ht=Object(st["a"])({state:{web3Modal:null,serviceFee:null,provider:null,signer:null,user:null,petIDs:[],foodIDs:[],food:[{name:"Bananuman",price:.5,id:1},{name:"Catnip",price:.6,id:2},{name:"Cucombre",price:2,id:3},{name:"Moon Milk",price:5,id:4},{name:"Thic Duck",price:.8,id:5},{name:"Tuna",price:10,id:5}],contract:Object(n["p"])(new ct.Contract("0x503cdba19c484fc4aec22f0e8f3dc37a5c327c27",a("7dff"),new ot.JsonRpcProvider({url:yt},pt))),send:function(e,t){t.send("eth_sendTransaction",[{from:e.from,to:e.to,data:e["data"],value:e["value"]}])}},mutations:{setWeb3Modal(e,t){e.web3Modal=Object(n["p"])(t)},setSigner(e,t){e.signer=Object(n["p"])(t)},setProvider(e,t){e.provider=Object(n["p"])(t)},setServiceFee(e,t){e.serviceFee=t},setUser(e,t){e.user=t},setContract(e,t){e.contract=t}},actions:{toEth({state:e},t){return ct.utils.formatEther(t.toString())},async getServiceFee({state:e,commit:t}){let a=await e.contract.percentage();return t("setServiceFee",a),a},async feedMultiple({state:e},{pets:t,food:a}){if("string"==typeof a){let n=e.food.filter(e=>e.name==a)["id"];a=Array(t.length).fill(n)}"number"==typeof a&&(a=Array(t.length).fill(a));let n=await e.contract.populateTransaction.FeedMultiple(t,a);e.send(n,e.provider)},async checkRewards({state:e},t){return await e.contract.pendingRewards(t)},async claimRewards({state:e},t){let a=await e.contract.pendingRewards(t);if(!a.gt(ut.from(0)))throw new Error("Nothing to claim");{let a=await e.contract.populateTransaction.Claim(t);e.send(a,e.provider)}},async getPetIds({state:e},t){let a=fetch("https://api.nft20.io/cudl/owner/"+t).then(e=>e.json());return a["petsOwned"]},async gasBalance({state:e},t){let a=new ct.Contract(mt.address,mt.abi,e.signer);return await a.userTokenBalance(t,bt)},async depositBalance({state:e},t){if(t>0){let a=new ct.Contract(mt.address,mt.abi,e.signer),n=await a.populateTransaction.depositFunds(e.user,bt,ct.utils.parseEther(t.toString()));n.value=ct.utils.parseEther(t.toString()).toHexString(),e.send(n,e.provider)}},async withdrawBalance({state:e},t){if(t>0){let a=new ct.Contract(mt.address,mt.abi,e.signer),n=await a.populateTransaction.withdrawFunds(e.user,bt,ct.utils.parseEther(t.toString()).toString());e.send(n,e.provider)}},async automate({state:e},{pets:t,food:n}){if("string"==typeof n){let a=e.food.filter(e=>e.name==n)["id"];n=Array(t.length).fill(a)}"number"==typeof n&&(n=Array(t.length).fill(n));let s=new ct.Contract(ft.address,ft.abi,e.signer),i=await e.contract.interface.encodeFunctionData("FeedMultiple",[t,n]),r=(await s.getSelector("FeedMultiple(uint256,uint256)"),new ct.Contract("0x95f4538c3950ce0ef5821f2049ae2ac5ccade68d",a("0835"),e.signer));i=r.interface.encodeFunctionData("checker",[i]);let l=await s.populateTransaction.createTimedTask(0,86400,e.contract.address,"0xa908772c",r.address,i,bt,!0);e.send(l,e.provider)},async getAutomations({state:e},t){let a=new ct.Contract(ft.address,ft.abi,e.signer),n=await a.getTaskIdsByUser(t);return n},async cancelAutomation({state:e},t){let a=new ct.Contract(ft.address,ft.abi,e.signer),n=await a.populateTransaction.cancelTask(t);e.send(n,e.provider)},async Connect({commit:e,state:t}){const s={walletconnect:{package:lt["a"],options:{infuraId:"INFURA_ID"}}},i=new rt.a({network:"arbitrum",cacheProvider:!0,providerOptions:s}),r=new ot.Web3Provider(await i.connect()),l=r.getSigner();e("setSigner",l),e("setUser",await l.getAddress()),e("setProvider",r),e("setWeb3Modal",i),e("setContract",Object(n["p"])(new ct.Contract("0x503cdba19c484fc4aec22f0e8f3dc37a5c327c27",a("7dff"),l)))},async Disconnect({state:e,commit:t}){await e.web3Modal.clearCachedProvider(),t("setSigner",null),t("setProvider",null),window.location.reload()}},modules:{}});Object(n["d"])(T).use(ht).use(nt).mount("#app")},6:function(e,t){},"654b":function(e,t,a){},7:function(e,t){},7312:function(e,t,a){},"7dff":function(e){e.exports=JSON.parse('[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[{"internalType":"address","name":"_parent","type":"address"}],"name":"Claim","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256[]","name":"ids","type":"uint256[]"},{"internalType":"uint256[]","name":"food","type":"uint256[]"}],"name":"FeedMultiple","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"OwnerClaim","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256[]","name":"ids","type":"uint256[]"},{"internalType":"address","name":"caretaker","type":"address"}],"name":"Upgrade","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_owner","type":"address"}],"name":"newOwner","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_percentage","type":"uint256"}],"name":"newPercentage","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"pendingRewards","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"percentage","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"}]')},8:function(e,t){},9:function(e,t){},"95a2":function(e,t,a){"use strict";a("654b")},cae0:function(e,t,a){"use strict";a("7312")},f38b:function(e,t,a){"use strict";var n=a("7a23");const s={key:1},i=["src","title"];function r(e,t,a,r,l,o){return Object(n["v"])(),Object(n["g"])("div",null,[e.$store.state.user?(Object(n["v"])(),Object(n["g"])("div",s,[Object(n["h"])("img",{class:"nes-avatar is-rounded is-large",alt:"Ethereum blockies avatar",src:o.blocky,title:e.$store.state.user,style:{"image-rendering":"pixelated"},onClick:t[1]||(t[1]=e=>o.toggle())},null,8,i)])):(Object(n["v"])(),Object(n["g"])("button",{key:0,type:"button",class:"nes-btn is-success",onClick:t[0]||(t[0]=e=>o.Connect())},"Connect"))])}var l=a("b7e6"),o=a.n(l),d={name:"Connect",data(){return{dialog:!1}},methods:{async Connect(){this.$store.dispatch("Connect")},async Disconnect(){this.$store.dispatch("Connect")},toggle(){let e=document.getElementById("dialog-default");this.dialog=!this.dialog,this.dialog?e.showModal():e.close()}},computed:{signer(){return this.$store.state.signer},blocky(){let e=this.$store.state.user;return e?o()(e):""}}},c=a("6b0d"),u=a.n(c);const p=u()(d,[["render",r]]);t["a"]=p}});
//# sourceMappingURL=app.377642ce.js.map